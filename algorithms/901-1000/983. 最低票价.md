title: leetcode题解：983.最低票价
date: 2019-07-26
--------------------

点击文末“阅读原文”链接，即可到leetcode网站查看题目描述

## 思路与算法：​

这是一道典型的动态规划题目

某天，如果你不必出行的话，等一等再购买火车票一定更优，如果你需要出行的话，那么就有三种选择：在通行期为 1 天、7 天、30 天中的火车票中选择一张购买。
我们可以把这种选择的过程表示成递归的形式，然后使用动态规划解决（记忆化搜索）。我们定义 dp(i) 为能够完成从第 i 天到最后的旅游计划的最小花费。那么，如果你在第 i 天需要出行的话，你的花费为：

```
dp(i) = min(dp(i+1) = costs[0], dp(i+7) = costs[1], dp(i+30) = costs[2])

```

## 代码：

```javascript
/**
 * @param {number[]} days
 * @param {number[]} costs
 * @return {number}
 */
var mincostTickets = function(days, costs) {

    let memory = Array(366).fill(null)

    function dp(i){
    	if (i > days[days.length - 1]) {
    		return 0
    	}
    	if (memory[i]){
    		return memory[i]
    	}
    	if (days.find(function(day){
    		return day == i
    	})){
    		memory[i] = Math.min(dp(i+1) + costs[0], dp(i+7) + costs[1], dp(i+30) + costs[2])
    	} else {
    		memory[i] = dp(i+1)
    	}
    	return memory[i]
    }
    return dp(0)
};
```



