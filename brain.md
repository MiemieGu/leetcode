# 智力题

## 抓猫猫游戏

有五个带盖的桶排成一排，其中一个桶里有一只猫，一天只能打开一个桶，猫每天都会在相邻的桶之间跳动，问怎么能抓住猫

说明：

- 桶的盖子打开了就要盖回去
- 猫在晚上跳动，我们白天找猫
- 猫每天都会跳动
- 猫有上帝视角，请设计必抓方案

---

## 分析

1个桶时我们只需要抓1次，选第一个盒子就找到猫猫了；

2个桶时我们需要2步，连续抓两次相同的桶

3个桶时我们抓中间那个桶，连续抓两次，猫猫肯定会被找到

那如果是4个桶呢？等等，好像猫猫不太好抓了！

猫猫跳来跳去的，很难抓到，不过撸猫心切的我们怎么可能轻易的放过猫猫？

让我们冷静得想一想，什么情况下猫猫会无路可走呢？

只能是猫猫走到了边界，这时候猫猫只有一个桶可以选择了，就是邻近边界的那一个

![猫到了边界](https://raw.githubusercontent.com/muyids/tuchuang/master/cat-in-border-bucket.png)

如上图的情况，这时候猫猫在1号桶，我们只需要连开两次2号桶，猫猫就跑不掉了

下面，我们用图表分析一下4个桶的情况

![四个桶解法](https://raw.githubusercontent.com/muyids/tuchuang/master/cat-four-bucket.png)

我们得到四个桶需要五步

五个桶情况复杂了很多，我们用同样的方法进行推导，发现五个桶需要七步，图解如下：

![五个桶解法](https://raw.githubusercontent.com/muyids/tuchuang/master/cat-five-bucket-1.png)

## 更进一步

如果我们有更多个桶，比如100个或1000个，能不能抓到猫猫？如果能，最少需要多少步？

### 奇偶性过滤

通过观察，我们发现，只要形成黄白绿相间的趋势，猫的活动空间就越来越小，最终无路可走，如下图

![无路可走的猫](https://raw.githubusercontent.com/muyids/tuchuang/master/cat-five-bucket-2.png)

那么这种趋势为什么会形成呢？因为当我们不断向右下方逼近，侥幸逃到左边的猫猫是有奇偶性的

### 边界情况

那么，当我们到达右端，再次返回，向左边查找的时候，这些猫猫就逃不到右边了，早晚会被我们抓住

那么还有一个问题，我们为什么一开始要抓两次第二个，斜线走到最右端，也要抓两次呢？

这是为了抓到躲在边界的猫，因为最终的解一定是在边界！

![排除边界情况](https://raw.githubusercontent.com/muyids/tuchuang/master/cat-bucket-border.png)

### 最终答案

我们一定能抓到猫猫；

最少步数为：1个桶时需要1步，2个桶时需要2步，3个桶时需要2步，4个桶以上需要`1 +（N-2）* 2`步

[题目链接](https://mp.weixin.qq.com/s/Gg0NEx6OZ18AaxcZOWo4gA)
