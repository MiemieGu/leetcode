
最核心的一定是挂单交易核心模块 - 撮合交易

撮合交易的规则：

- 买入价（A）必须大于或等于卖出价（B），即A>=B。

- 按价格优先、时间优先的原则进行。

- **当买入价大于卖出价时成交价应该如何确定？**

    计算机在撮合时实际上是依据前一笔成交价而定出最新成交价的。如果前一笔成交价低于或等于卖出价，则最新成交价就是卖出价；如果前一笔成交价高于或等于买入价，则最新成交价就是买入价；如果前一笔成交价在卖出价与买入价之间，则最新成交价就是前一笔的成交价。下面不妨以例明之。

    买方出价1399点，卖方出价是1397点。如果前一笔成交价为1397或1397点以下，最新成交价就是1397点；如果前一笔成交价为1399或1399点以上，则最新成交价就是1399点；如果前一笔成交价是1398点，则最新成交价就是1398点。


**保证撮合交易在高并发场景下的稳定性**



